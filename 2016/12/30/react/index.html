<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>react | 林楠的个人博客</title>
  <meta name="author" content="zero" />

  
  <meta name="description" content="一、什么是react
React 是一个用于构建用户界面的JavaScript库

安装react1$ bower install react babel --save
二、直接在浏览器中使用React&amp;lt;script src=&amp;quot;../bower_components/react/re" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  <meta property="og:title" content="react" />
  <meta property="og:site_name" content="林楠的个人博客" />

  
  

  
    <meta property="og:image" content="undefined" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="林楠的个人博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">林楠的个人博客</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-30T07:44:34.067Z"><a href="/2016/12/30/react/">2016-12-30</a></time>
      
      
  
    <h1 class="title">react</h1>
  

    </header>
    <div class="entry">
      
        <h2 id="一、什么是react"><a href="#一、什么是react" class="headerlink" title="一、什么是react"></a>一、什么是react</h2><ul>
<li>React 是一个用于构建用户界面的JavaScript库</li>
</ul>
<h2 id="安装react"><a href="#安装react" class="headerlink" title="安装react"></a>安装react</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bower install react babel --save</div></pre></td></tr></table></figure>
<h2 id="二、直接在浏览器中使用React"><a href="#二、直接在浏览器中使用React" class="headerlink" title="二、直接在浏览器中使用React"></a>二、直接在浏览器中使用React</h2><pre><code>&lt;script src=&quot;../bower_components/react/react.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../bower_components/react/react-dom.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../bower_components/babel/browser.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot; src=&quot;index.js&quot;&gt;&lt;/script&gt;
</code></pre><ul>
<li>react.js 是 React 的核心库,会在window下增加一个 React属性</li>
<li>react-dom.js 是提供与DOM相关的功能,会在window下增加ReactDOM属性</li>
<li>browser.js 的作用是将JSX语法转为JavaScript语法</li>
</ul>
<blockquote>
<p>　script中的type属性为text/babel,因为React独有的JSX语法,跟JavaScript不兼容</p>
</blockquote>
<h2 id="三、定义组件"><a href="#三、定义组件" class="headerlink" title="三、定义组件"></a>三、定义组件</h2><p>我们可以很直观的将一个复杂的页面分割成若干个独立组件,每个组件包含自己的逻辑和样式 再将这些独立组件组合完成一个复杂的页面。 这样既减少了逻辑复杂度，又实现了代码的重用</p>
<ul>
<li>可组合：一个组件可以和其他的组件一起使用或者可以直接嵌套在另一个组件内部</li>
<li>可重用：每个组件都是具有独立功能的，它可以被使用在多个场景中</li>
<li><p>可维护：每个小的组件仅仅包含自身的逻辑，更容易被理解和维护</p>
</li>
<li><p>组件类的第一个字母必须大写</p>
</li>
<li>组件类能且只能包含一个顶层标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var Message = React.createClass(&#123;</div><div class="line">    render: function() &#123;</div><div class="line">        return &lt;h1&gt;Hello&lt;/h1&gt;;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Message/&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="四、组件的属性"><a href="#四、组件的属性" class="headerlink" title="四、组件的属性"></a>四、组件的属性</h2><ul>
<li>每个组件可以有自己的属性,一般用来存放组件初始后不变的数据,比如人的性别，姓名等</li>
<li>属性一般用作组件的数据源，一般由父组件传入,比如你的名字一般是由你父母取的</li>
<li>属性可以通过this.props中取出</li>
<li>propTypes可以用来定义传入组件属性的名称和类型</li>
<li>getDefaultProps函数可以用来定会引起组件的默认属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    //类似于约定了一个接口文档,用于这是验证传递给组件的属性，</div><div class="line">    propTypes: &#123;</div><div class="line">        //定义msg的属性类型为字符串，必须传入</div><div class="line">        name: React.PropTypes.string.isRequired,</div><div class="line">        gender: React.PropTypes.string.isRequired,</div><div class="line">        age:React.PropTypes.number.isRequired</div><div class="line">    &#125;,</div><div class="line">    getDefaultProps:function()&#123;</div><div class="line">        return &#123;name:&apos;无名氏&apos;&#125;</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        //属性可以通过属性对象this.props中取出</div><div class="line">        return (&lt;h1&gt; &#123;this.props.name&#125;</div><div class="line">                     &#123;this.props.gender&#125;</div><div class="line">                     &#123;this.props.age&#125;</div><div class="line">                &lt;/h1&gt;);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">var props = &#123;</div><div class="line">    gender:&apos;男&apos;,</div><div class="line">    age:18</div><div class="line">&#125;</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person &#123;...props&#125; /&gt;,//属性可以在使用组件时传入</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="五、this-props-children"><a href="#五、this-props-children" class="headerlink" title="五、this.props.children"></a>五、this.props.children</h2><p>this.props对象的属性与组件实例的属性一一对应,但this.props.children属性表示组件的所有子节点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    render: function() &#123;</div><div class="line">      return (</div><div class="line">            &lt;ol&gt;</div><div class="line">                &#123;</div><div class="line">                    this.props.children.map(</div><div class="line">                      function (child) &#123;</div><div class="line">                        return &lt;li&gt;&#123;child&#125;&lt;/li&gt;;</div><div class="line">                    &#125;)</div><div class="line">                &#125;</div><div class="line">            &lt;/ol&gt;</div><div class="line">      );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person&gt;</div><div class="line">        &lt;span&gt;大毛&lt;/span&gt;</div><div class="line">        &lt;span&gt;二毛&lt;/span&gt;</div><div class="line">        &lt;span&gt;三毛&lt;/span&gt;</div><div class="line">    &lt;/Person&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="state状态"><a href="#state状态" class="headerlink" title="state状态"></a>state状态</h2><ul>
<li>组件的状态就像人的心情，会经常变化，而且只能由自己来改变</li>
<li>组件一开始有一个初始状态,然后用户互动,导致状态变化，从而触发界面重新渲染</li>
<li>getInitialState用来定义初始状态</li>
<li><p>可以给按钮绑定事件，当事件发生的时候调用对应的方法改变组件的状态</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    getInitialState: function() &#123;</div><div class="line">        return &#123;happy: true&#125;;</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    getDefaultProps:function()&#123;</div><div class="line">        return &#123;name:&apos;无名氏&apos;&#125;;</div><div class="line">    &#125;,</div><div class="line">    handleClick: function(event) &#123;</div><div class="line">        this.setState(&#123;happy: !this.state.happy&#125;);</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        var heart = this.state.happy ? &apos;开心&apos; : &apos;不开心&apos;;</div><div class="line">        return (</div><div class="line">            &lt;p &gt;</div><div class="line">                 &#123;this.props.name&#125; &#123;heart&#125; &lt;br/&gt;</div><div class="line">                 &lt;button onClick=&#123;this.handleClick&#125;&gt;变心&lt;/button&gt;</div><div class="line">            &lt;/p&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person name=&quot;林志玲&quot; /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
<p> 常用的事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">剪贴板事件 onKeyDown onKeyPress onKeyUp</div><div class="line">键盘事件 onFocus onBlur</div><div class="line">焦点事件 onChange onInput onSubmit</div><div class="line">鼠标事件 onClick onDoubleClick onMouseDown onMouseEnter onMouseLeave</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="表单元素双向数据绑定"><a href="#表单元素双向数据绑定" class="headerlink" title="表单元素双向数据绑定"></a>表单元素双向数据绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var Input = React.createClass(&#123;</div><div class="line">    getInitialState: function() &#123;//获取初始状态</div><div class="line">        return &#123;value: &apos;珠峰培训&apos;&#125;;</div><div class="line">    &#125;,</div><div class="line">    handleChange: function(event) &#123; //处理改变事件</div><div class="line">        this.setState(&#123;value: event.target.value&#125;);</div><div class="line">    &#125;,</div><div class="line">    render: function () &#123;</div><div class="line">        var value = this.state.value;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;input style=&#123;&#123;color:&apos;red&apos;&#125;&#125; type=&quot;text&quot;</div><div class="line">                value=&#123;value&#125; onChange=&#123;this.handleChange&#125; /&gt;</div><div class="line">                &lt;p&gt;&#123;value&#125;&lt;/p&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(&lt;Input/&gt;, document.getElementById(&apos;app&apos;));</div></pre></td></tr></table></figure>
<p>   注意: 如果给表单元素设置了value属性，则必须指定onChange事件处理函数，否则 此字段会变成只读状态</p>
<h2 id="六、复合组件"><a href="#六、复合组件" class="headerlink" title="六、复合组件"></a>六、复合组件</h2><p>   多个简单的组件嵌套，可构成一个复杂的复合组件，从而完成复杂的交互逻辑<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">var Panel = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel panel-default&quot;&gt;</div><div class="line">                &lt;PanelHead head=&#123;this.props.head&#125;/&gt;</div><div class="line">                &lt;PanelBody body=&#123;this.props.body&#125;/&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">var PanelHead = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel-heading&quot;&gt;</div><div class="line">                &#123;this.props.head&#125;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">var PanelBody = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel-body&quot;&gt;</div><div class="line">                &#123;this.props.body&#125;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Panel</div><div class="line">        head=&quot;头部&quot;</div><div class="line">        body=&quot;正文&quot;</div><div class="line">    /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="七、DOM操作"><a href="#七、DOM操作" class="headerlink" title="七、DOM操作"></a>七、DOM操作</h2><p>   给组件加上ref=”xxx”后，可在父组件中通过this.refs.xxx获取该DOM元素<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var Focus = React.createClass(&#123;</div><div class="line">    handleClick: function() &#123;</div><div class="line">        this.refs.msg.focus();</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;input type=&quot;text&quot; ref=&quot;msg&quot; /&gt;</div><div class="line">                &lt;input type=&quot;button&quot; value=&quot;获得焦点&quot;</div><div class="line">                onClick=&#123;this.handleClick&#125; /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Focus /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="八、组件的生命周期"><a href="#八、组件的生命周期" class="headerlink" title="八、组件的生命周期"></a>八、组件的生命周期</h2><p>React中可以指定在组件的生命周期的不同阶段执行的函数</p>
<ul>
<li>渲染前<ul>
<li>getDefaultProps 获取默认属性对象</li>
<li>getInitialState 获取初始状态对象</li>
<li>componentWillMount 组件将要被挂载到DOM容器内部</li>
</ul>
</li>
<li>渲染<ul>
<li>render 把组件挂载到DOM容器内部</li>
</ul>
</li>
<li>渲染后<ul>
<li>componentDidMount 组件挂载完成后(最常用的)</li>
<li>shouldComponentUpdate 组件是否应该被更新</li>
<li>componentWillUpdate 组件将被更新</li>
<li>componentDidUpdate 组件更新完成后</li>
</ul>
</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Suche">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">Neueste Artikel</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/01/06/mongo/">mongodb</a>
      </li>
    
      <li>
        <a href="/2017/01/06/express/">express</a>
      </li>
    
      <li>
        <a href="/2016/12/30/react/">react</a>
      </li>
    
      <li>
        <a href="/2016/12/30/gulp/">gulp</a>
      </li>
    
      <li>
        <a href="/2016/12/26/angular/">angular</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 zero
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>