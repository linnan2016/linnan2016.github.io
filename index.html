<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>林楠的个人博客</title>
  <meta name="author" content="zero" />

  
  <meta name="description" content="以梦为马，越骑越傻" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="林楠的个人博客" />

  
  

  
    <meta property="og:image" content="undefined" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="林楠的个人博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">林楠的个人博客</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">首页</a></li>
    
      <li><a href="/archives">归档</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-16T09:39:43.884Z"><a href="/2017/01/16/html+css3/">2017-01-16</a></time>
      
      
  
    <h1 class="title"><a href="/2017/01/16/html+css3/">html5+css3</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="HTML5新增的语义化标签（结构标签），表单种类，表单属性，全局属性"><a href="#HTML5新增的语义化标签（结构标签），表单种类，表单属性，全局属性" class="headerlink" title="HTML5新增的语义化标签（结构标签），表单种类，表单属性，全局属性"></a>HTML5新增的语义化标签（结构标签），表单种类，表单属性，全局属性</h2><ul>
<li>语义化标签：用合理的标签做合理的事情</li>
<li>section，header 页面或者区域的头部部分</li>
<li>main 主体部分</li>
<li>footer，article 完整的独立的区域 （强调独立性），一般情况下，表示文章部分</li>
<li>nav    导航（习惯性用在主导航）</li>
<li>aside  主体内容的辅助信息,表示无关内容,去掉与否对主体内容不会产生影响</li>
<li>figure 配图区域</li>
<li>figcaption 图题 （对图片的描述）</li>
</ul>
<h2 id="表单种类"><a href="#表单种类" class="headerlink" title="表单种类"></a>表单种类</h2><ul>
<li>search  键盘右下脚按钮从向右箭头变成搜索两个字</li>
<li>tel 手机号码 数字键盘</li>
<li>url  url地址</li>
<li>email 邮箱地址</li>
<li>number 数字输入框</li>
<li>range 数值选择器 通过滑动来改变数值并且可以设置数值的范围</li>
<li>color 颜色数值器</li>
<li>datetime-local 日期和时间（本地时间）</li>
<li>time 时间</li>
<li>month 日期选择到月</li>
<li>week  日期选择到周</li>
</ul>
<h2 id="表单属性"><a href="#表单属性" class="headerlink" title="表单属性"></a>表单属性</h2><ul>
<li>autocomplete 是否保存用户输入信息 on保存，off不保存</li>
<li>autofocus 光标自动聚焦</li>
<li>placeholder 在输入前提示用户输入信息</li>
<li>required 必须输入内容</li>
<li>form 保证表单元素可以放在任何位置</li>
<li>formnovalidate  设置在submit类型的按钮上 不用验证直接可提交</li>
<li>novalidate 设置上form标签上 不用验证直接可提交</li>
<li>pattern 通过正则设置验证规则</li>
<li>setCustomValidity() 可以更改系统自带的提示信息</li>
<li>自定义属性<ul>
<li>data-name :  dataset.name</li>
<li>data-name-first  :  dataset.nameFirst</li>
</ul>
</li>
</ul>
<h2 id="css2"><a href="#css2" class="headerlink" title="css2"></a>css2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">关系选择器</div><div class="line">E+F 相邻的弟弟节点</div><div class="line">E~F 所有的弟弟节点</div></pre></td></tr></table></figure>
<h2 id="css3-结构选择器"><a href="#css3-结构选择器" class="headerlink" title="css3 结构选择器"></a>css3 结构选择器</h2><ul>
<li><p>否定选择器（排除某些元素）<br>  :not(选择器)  ul li:not(:first-child)</p>
</li>
<li><p>属性选择器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">E[attr=val]</div><div class="line">E[attr|=val] 只能是val或者是val-开头</div><div class="line">E[attr*=val] 属性值中只要包含val即可</div><div class="line">E[attr~=val] 属性值有多个，其中有一个是val</div><div class="line">E[attr^=val] 以val开头</div><div class="line">E[attr$=val] 以val结尾</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h2><ul>
<li>只能用在背景上</li>
<li>linear-gradient</li>
<li>渐变方向：沿着直线轴的方向</li>
<li>第一个参数设置渐变方向 top left top left 45deg</li>
<li>从第二个参数开始设置渐变颜色和位置(百分比或者固定值)</li>
<li>两种颜色之间的区域称为渐变过渡区</li>
<li>去掉渐变过渡区只需要对每个颜色设置起始位置和结束位置</li>
<li>重复线性渐变</li>
<li>repeating-linear-gradient</li>
</ul>
<h2 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">radial-gradient([[&lt;shape&gt; || &lt;size&gt;] [at &lt;position&gt;]?,| at &lt;position&gt;,]?&lt;color-stop&gt;[,&lt;color-stop&gt;]+);</div></pre></td></tr></table></figure>
<ul>
<li>从“一个点”向多方向颜色渐变</li>
<li>shape  ellipse circle</li>
<li><p>at 关键词可以设置圆心的位置 top center|10px 10px<br>100px 50px at center可以自己设置径向渐变的水平半径和垂直半径</p>
</li>
<li><p>背景</p>
</li>
<li><p>background-origin 设置背景图从哪个区域开始显示</p>
<ul>
<li>padding-box 从内边距开始显示 （默认值）</li>
<li>border-box 从边框区域开始显示</li>
<li>content-box 从内容区域开始显示</li>
</ul>
</li>
<li><p>background-clip 从哪个区域往外裁剪</p>
<ul>
<li>padding-box 从padding区域往外裁剪</li>
<li>border-box 从border区域往外裁剪 (默认值)</li>
<li>content-box 从内容区域往外裁剪</li>
</ul>
</li>
<li><p>background-size 设置背景图的大小</p>
<ul>
<li>100% 100%</li>
<li>10px 10px</li>
<li>contain 按照原来的比例收缩，背景图显示完整，但是不一定铺满整个容器</li>
<li>cover 按照原来的比例收缩，背景图不一定显示完整，但是一定是铺满整个容器</li>
</ul>
</li>
<li><p>box-shadow 默认外阴影，如果设置内阴影需要inset,内阴影方向和外阴影相反</p>
<ul>
<li>第一个参数：水平方向偏移 正-&gt;右 负-&gt;左</li>
<li>第二个参数：垂直方向偏移 正-&gt;下 负-&gt;上</li>
<li>第三个参数：模糊半径</li>
<li>第四个参数：扩展半径</li>
<li>第五个参数是颜色</li>
</ul>
</li>
<li><p>text-shadow : x y blur  color</p>
<ul>
<li>x轴偏移  y轴偏移  模糊度  颜色</li>
</ul>
</li>
</ul>
<h2 id="css3动画"><a href="#css3动画" class="headerlink" title="css3动画"></a>css3动画</h2><ul>
<li>transition属性</li>
<li>transform变形属性 2D变形效果rotate(0deg) 旋转 正-&gt;顺时针旋转 负-&gt;逆时针旋转<ul>
<li>skew(x,y) 倾斜  x：正-&gt;水平往左倾斜 x：负-&gt;水平往右倾斜  y：正-&gt;垂直往下 负-&gt;垂直往上</li>
<li>scale(sx,sy) 缩放 默认值是1 <1缩小>1放大<br>translate(tx,ty) 默认值是0 平移 水平方向 ：正-&gt;右 负-&gt;左  垂直方向： 正-&gt;下 负-&gt;上</1缩小></li>
<li>变形的基准点</li>
<li>默认变形基准点是中心点</li>
<li>transform-origin</li>
</ul>
</li>
<li><p>animation帧动画</p>
<ul>
<li>弥补了过渡动画的缺陷</li>
<li>例如：可以设置任意状态，不需要触发条件，是立马执行</li>
<li>帧动画分为两步：<ul>
<li>通过keyframes 动画名  设置动画的运动曲线</li>
<li>通过animation调用声明的关键帧<br>3D变换</li>
</ul>
</li>
<li>perspective：2000px 景深 （800px~2000px）    作用在祖先元素</li>
<li><p>transform-style:flat|preserve-3d (3D空间展示)作用在变形元素的父标签</p>
</li>
<li><p>rotateX(45deg) 围着X轴翻转 前后翻转 正-&gt;前翻 负-&gt;后翻rotate3d(1,0,0,45deg)</p>
</li>
<li>rotateY(45deg) 围着Y轴翻转 左右翻转 正-&gt;往右 负-&gt;左翻rotate3d(0,1,0,45deg)</li>
<li>rotateZ(45deg) 效果和rotate()一样的，但是是在Z轴上旋转rotate3d(0,0,1,45deg)</li>
</ul>
</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-06T01:57:26.060Z"><a href="/2017/01/06/mongo/">2017-01-06</a></time>
      
      
  
    <h1 class="title"><a href="/2017/01/06/mongo/">mongodb</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="mongodb是前端最佳学习的数据库"><a href="#mongodb是前端最佳学习的数据库" class="headerlink" title="mongodb是前端最佳学习的数据库"></a>mongodb是前端最佳学习的数据库</h2><ul>
<li>开源免费</li>
<li>单机性能非常高 每秒能读写1.6万次</li>
<li>可以支持水平扩展，存储量和并发可以无限扩展</li>
<li>支持主从备份</li>
<li>数据语法是javascript</li>
<li>里面存放的数据库就是JSON</li>
</ul>
<h2 id="mongodb启动与连接"><a href="#mongodb启动与连接" class="headerlink" title="mongodb启动与连接"></a>mongodb启动与连接</h2><ul>
<li>在mongodb安装目录的bin文件夹下输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongod --dbpath=x:\xx\data(刚创建的空目录)</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>如果出现waiting for connections on port 27017就表示启动成功</p>
</blockquote>
<ul>
<li>然后还是在mongodb安装目录的bin文件夹下输入<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mongo --host=127.0.0.1 或者 mongo 按回车键</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>如果显示 connecting to: test 就表示链接成功</p>
</blockquote>
<h2 id="Mongoose是什么？"><a href="#Mongoose是什么？" class="headerlink" title="Mongoose是什么？"></a>Mongoose是什么？</h2><p>   Mongoose是MongoDB的一个对象模型工具 同时它也是针对MongoDB操作的一个对象模型库,封装了MongoDB对文档的的一些增删改查等常用方法 让NodeJS操作Mongodb数据库变得更加灵活简单</p>
<h2 id="安装mongoose"><a href="#安装mongoose" class="headerlink" title="安装mongoose"></a>安装mongoose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install mongoose</div></pre></td></tr></table></figure>
<h2 id="使用mongoose"><a href="#使用mongoose" class="headerlink" title="使用mongoose"></a>使用mongoose</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(&quot;mongoose&quot;);</div><div class="line">mongoose.connect(&quot;mongodb://localhost:端口号/数据库名称&quot;);</div><div class="line">var personSchema = new mongoose.Schema(&#123;</div><div class="line">      name:String, //姓名</div><div class="line">      binary:Buffer,//二进制</div><div class="line">      living:Boolean,//是否活着</div><div class="line">      birthday:Date,//生日</div><div class="line">      age:Number,//年龄</div><div class="line">      _id:Schema.Types.ObjectId,  //主键</div><div class="line">      _fk:Schema.Types.ObjectId,  //外键</div><div class="line">      array:[],//数组</div><div class="line">      arrOfString:[String],//字符串数组</div><div class="line">      arrOfNumber:[Number],//数字数组</div><div class="line">      arrOfDate:[Date],//日期数组</div><div class="line">      arrOfBuffer:[Buffer],//Buffer数组</div><div class="line">      arrOfBoolean:[Boolean],//布尔值数组</div><div class="line">      arrOfObjectId:[Schema.Types.ObjectId]//对象ID数组</div><div class="line">      nested:&#123; //内嵌文档</div><div class="line">        name:String,</div><div class="line">      &#125;</div><div class="line">    &#125;);</div><div class="line">var PersonModel = mongoose.model(&quot;Person&quot;, PersonSchema);</div></pre></td></tr></table></figure>
<h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><ul>
<li><p>保存</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Model.create(文档数据, callback));</div><div class="line"></div><div class="line">PersonModel.create(&#123; name:&quot;zfpx&quot;, age:7&#125;, function(error,doc)&#123;</div><div class="line">    if(error) &#123;</div><div class="line">        console.log(error);</div><div class="line">    &#125; else &#123;</div><div class="line">        console.log(doc);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Model.find(查询条件,callback);//若没有向find传递参数，默认的是显示所有文档</div></pre></td></tr></table></figure>
</li>
<li><p>findOne(查询单条)</p>
<ul>
<li>与find相同，但只返回单个文档，也就说当查询到即一个符合条件的数据时，将停止继续查询，并返回查询结果 语法<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">findOne(Conditions,callback)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>findById(按ID单条数据)</p>
<ul>
<li>与findOne相同，但它只接收文档的_id作为参数，返回单个文档 语法<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">findById(_id, callback)</div><div class="line">PersonModel.findById(person._id, function (err, doc)&#123;</div><div class="line">     //doc 查询结果文档</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>更新</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Model.update(查询条件,更新对象,callback);</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>请注意如果匹配到多条记录，默认只更新一条，如果要更新匹配到的所有记录的话需要加一个参数 {multi:true}</p>
</blockquote>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2017-01-06T00:49:38.465Z"><a href="/2017/01/06/express/">2017-01-06</a></time>
      
      
  
    <h1 class="title"><a href="/2017/01/06/express/">express</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="express-三部曲"><a href="#express-三部曲" class="headerlink" title="express 三部曲"></a>express 三部曲</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var express=require(&apos;express&apos;);</div><div class="line">var app=express();</div><div class="line">app.listen(xxxx);</div></pre></td></tr></table></figure>
<h2 id="一、路由"><a href="#一、路由" class="headerlink" title="一、路由"></a>一、路由</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.方法名(&apos;/()?&apos;,function(req,res)&#123;</div><div class="line">	...</div><div class="line">	res.end();//一定要有</div><div class="line">&#125;)</div><div class="line">app.all(&apos;*&apos;,function()&#123;             //all能匹配所有的方法，*能匹配所有的路径</div><div class="line">	...</div><div class="line">	res.end()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="二、获取请求的参数"><a href="#二、获取请求的参数" class="headerlink" title="二、获取请求的参数"></a>二、获取请求的参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.get/post(&apos;/()&apos;,function(req,res)&#123;</div><div class="line">	req.params.id/req.params.name...</div><div class="line">	res.end()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="三、中间件"><a href="#三、中间件" class="headerlink" title="三、中间件"></a>三、中间件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.use(function(req,res,next)&#123;</div><div class="line">	...</div><div class="line">	next();//一定要有</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>中间件<ul>
<li>1 执行一些公共的逻辑，比如设置内容类型 res.setHeader(‘Content-Type’,’text/html;charset=utf8’);</li>
<li>2 添加一些公共的方法和属性 req.query req.path req.send</li>
<li>3 还可以覆盖一些原有方法，插入我们自己的逻辑</li>
<li>中间件里可以放路径，但这个路径的含义是只要请求的URL以这个路径开头就可以<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">app.use(&apos;/user&apos;,function(req,res,next)&#123;</div><div class="line">    req.money -=50;</div><div class="line">    // next参数表示任务出错了，跳过后面正常的中间件，会执行错误处理中间件</div><div class="line">    next(&apos;失火了&apos;);</div><div class="line">&#125;);</div><div class="line">app.use(&apos;/user&apos;,function(err,req,res,next)&#123; //会多一个err参数</div><div class="line">   ...</div><div class="line">   res.end(&apos;错误:&apos;+err); //错误:&apos;失火了&apos;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="三-1、路由容器"><a href="#三-1、路由容器" class="headerlink" title="三-1、路由容器"></a>三-1、路由容器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var user=require(&apos;./routes/user&apos;);//路径为routes目录下的user.js文件</div><div class="line">app.use(&apos;/user&apos;,user);//如果客户端访问的路径是以/user开头的话</div><div class="line"></div><div class="line">user.js:</div><div class="line">var express = require(&apos;express&apos;);</div><div class="line">//调用工厂方法生成一个路由容器的实例,这个实例也是一个中间件函数</div><div class="line">var router = express.Router();//特殊的</div><div class="line">router.get(&apos;/add&apos;,function(req,res)&#123;</div><div class="line">    res.end(&apos;注册&apos;);</div><div class="line">&#125;);</div><div class="line">module.exports = router;</div></pre></td></tr></table></figure>
<ul>
<li>路由(app.all..)和中间件都能匹配所有路径，当路由匹配上就不继续执行了，中间件是要看有没有next()</li>
</ul>
<h2 id="四、send"><a href="#四、send" class="headerlink" title="四、send"></a>四、send</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">res.sendFile(path.resolve(&apos;index.html&apos;));//发送一个绝对路径的文件</div><div class="line">res.send();//字符串或者模板字符串或者对象等等</div></pre></td></tr></table></figure>
<h2 id="五、模板"><a href="#五、模板" class="headerlink" title="五、模板"></a>五、模板</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//设置模板引擎 ejs</div><div class="line">app.set(&apos;view engine&apos;,&apos;ejs&apos;);</div><div class="line">//如果模板的后缀是html的话，使用ejs来进行渲染</div><div class="line">app.engine(&apos;html&apos;,require(&apos;ejs&apos;).__express);</div></pre></td></tr></table></figure>
<ul>
<li>模板的存放目录的绝对路径<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">app.set(&apos;views&apos;,path.resolve(&apos;views&apos;));</div><div class="line">//静态文件中间件，也是express自己亲自的一个唯一中间件</div><div class="line">app.use(express.static(path.join(__dirname,&apos;public&apos;)));</div><div class="line">app.use(express.static(path.resolve(&apos;public&apos;)));</div><div class="line">app.get(&apos;&apos;,function()&#123;res.render(&apos;user,&#123;users:users&#125;&apos;)&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="六、重定向"><a href="#六、重定向" class="headerlink" title="六、重定向"></a>六、重定向</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.get(&apos;&apos;,function(req,res)&#123;res.redirect(&apos;/&apos;)&#125;)</div></pre></td></tr></table></figure>
<h2 id="七、监听请求体"><a href="#七、监听请求体" class="headerlink" title="七、监听请求体"></a>七、监听请求体</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var bodyParser = require(&apos;body-parser&apos;);//需要npm安装并可依赖</div><div class="line">app.use(bodyParser.urlencoded(&#123;extended:true&#125;));//表单数据</div><div class="line">app.use(bodyParser.json());                     //或json数据</div><div class="line">app.post(&apos;/login&apos;,function(req,res)&#123;console.log(req.body)&#125;)</div></pre></td></tr></table></figure>
<h2 id="八、cookie"><a href="#八、cookie" class="headerlink" title="八、cookie"></a>八、cookie</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">var cookieParser=require(&apos;cookie-parser&apos;);</div><div class="line">//规律：基本上所有的中间件模块都是一个函数，调用它才会返回我们需要的中间件函数</div><div class="line">app.use(cookieParser())</div><div class="line"></div><div class="line">app.get(&apos;/write&apos;,function(req,res)&#123;</div><div class="line">	向客户端写cookie</div><div class="line">	res.cookie(&apos;name&apos;,&apos;zfpx&apos;,&#123;domain:&apos;.jd.com&apos;&#125;);//这个cookie归哪个域名所有，向哪此以这些域名为后缀的服务器发请求的时候要带上这些cookie</div><div class="line">	res.cookie(&apos;name&apos;,&apos;zfpx&apos;,&#123;path:&apos;/read1&apos;&#125;);//只有客户端向 /read1路径发请求的时候才要带上cookie</div><div class="line">	&#123;expires:new Date(Date.now()+1*1000)&#125;;//绝对的时间 1秒后过期</div><div class="line">	&#123;maxAge:10*1000&#125;;//相对的过期时间</div><div class="line">	&#123;httpOnly:true&#125;;//无法通过JS来读写cookie</div><div class="line">&#125;)</div><div class="line">app.get(&apos;/read&apos;,function(req,res)&#123;res.end(req.cookie)&#125;)</div></pre></td></tr></table></figure>
<h2 id="九、session"><a href="#九、session" class="headerlink" title="九、session"></a>九、session</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var session = require(&apos;express-session&apos;);//也需要npm安装并可依赖</div><div class="line">app.use(session(&#123;</div><div class="line">	resave:true,</div><div class="line">	saveUninitialized:true,</div><div class="line">	secret:&apos;zfpx&apos;//如果想不起来，可以直接运行在警告中查看需要写啥</div><div class="line">&#125;))</div><div class="line"></div><div class="line">req.session.success = &apos;注册成功&apos;;是改值</div><div class="line">req.session.success             ;是读值</div></pre></td></tr></table></figure>
<h2 id="十、request"><a href="#十、request" class="headerlink" title="十、request"></a>十、request</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">console.log(req.method);//可以获取请求content-type方法</div><div class="line">console.log(req.url);//获取完整的url地址</div><div class="line">console.log(req.path);//获取路径名，就是?前面的部分</div><div class="line">console.log(req.query);//查询字符串对象</div><div class="line">console.log(req.headers);//获取请求头对象</div><div class="line">console.log(req.params.id);//可以获取URL中的参数值</div></pre></td></tr></table></figure>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-30T07:44:34.067Z"><a href="/2016/12/30/react/">2016-12-30</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/30/react/">react</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="一、什么是react"><a href="#一、什么是react" class="headerlink" title="一、什么是react"></a>一、什么是react</h2><ul>
<li>React 是一个用于构建用户界面的JavaScript库</li>
</ul>
<h2 id="安装react"><a href="#安装react" class="headerlink" title="安装react"></a>安装react</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ bower install react babel --save</div></pre></td></tr></table></figure>
<h2 id="二、直接在浏览器中使用React"><a href="#二、直接在浏览器中使用React" class="headerlink" title="二、直接在浏览器中使用React"></a>二、直接在浏览器中使用React</h2><pre><code>&lt;script src=&quot;../bower_components/react/react.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../bower_components/react/react-dom.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../bower_components/babel/browser.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/babel&quot; src=&quot;index.js&quot;&gt;&lt;/script&gt;
</code></pre><ul>
<li>react.js 是 React 的核心库,会在window下增加一个 React属性</li>
<li>react-dom.js 是提供与DOM相关的功能,会在window下增加ReactDOM属性</li>
<li>browser.js 的作用是将JSX语法转为JavaScript语法</li>
</ul>
<blockquote>
<p>　script中的type属性为text/babel,因为React独有的JSX语法,跟JavaScript不兼容</p>
</blockquote>
<h2 id="三、定义组件"><a href="#三、定义组件" class="headerlink" title="三、定义组件"></a>三、定义组件</h2><p>我们可以很直观的将一个复杂的页面分割成若干个独立组件,每个组件包含自己的逻辑和样式 再将这些独立组件组合完成一个复杂的页面。 这样既减少了逻辑复杂度，又实现了代码的重用</p>
<ul>
<li>可组合：一个组件可以和其他的组件一起使用或者可以直接嵌套在另一个组件内部</li>
<li>可重用：每个组件都是具有独立功能的，它可以被使用在多个场景中</li>
<li><p>可维护：每个小的组件仅仅包含自身的逻辑，更容易被理解和维护</p>
</li>
<li><p>组件类的第一个字母必须大写</p>
</li>
<li>组件类能且只能包含一个顶层标签<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var Message = React.createClass(&#123;</div><div class="line">    render: function() &#123;</div><div class="line">        return &lt;h1&gt;Hello&lt;/h1&gt;;</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Message/&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="四、组件的属性"><a href="#四、组件的属性" class="headerlink" title="四、组件的属性"></a>四、组件的属性</h2><ul>
<li>每个组件可以有自己的属性,一般用来存放组件初始后不变的数据,比如人的性别，姓名等</li>
<li>属性一般用作组件的数据源，一般由父组件传入,比如你的名字一般是由你父母取的</li>
<li>属性可以通过this.props中取出</li>
<li>propTypes可以用来定义传入组件属性的名称和类型</li>
<li>getDefaultProps函数可以用来定会引起组件的默认属性<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    //类似于约定了一个接口文档,用于这是验证传递给组件的属性，</div><div class="line">    propTypes: &#123;</div><div class="line">        //定义msg的属性类型为字符串，必须传入</div><div class="line">        name: React.PropTypes.string.isRequired,</div><div class="line">        gender: React.PropTypes.string.isRequired,</div><div class="line">        age:React.PropTypes.number.isRequired</div><div class="line">    &#125;,</div><div class="line">    getDefaultProps:function()&#123;</div><div class="line">        return &#123;name:&apos;无名氏&apos;&#125;</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        //属性可以通过属性对象this.props中取出</div><div class="line">        return (&lt;h1&gt; &#123;this.props.name&#125;</div><div class="line">                     &#123;this.props.gender&#125;</div><div class="line">                     &#123;this.props.age&#125;</div><div class="line">                &lt;/h1&gt;);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">var props = &#123;</div><div class="line">    gender:&apos;男&apos;,</div><div class="line">    age:18</div><div class="line">&#125;</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person &#123;...props&#125; /&gt;,//属性可以在使用组件时传入</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="五、this-props-children"><a href="#五、this-props-children" class="headerlink" title="五、this.props.children"></a>五、this.props.children</h2><p>this.props对象的属性与组件实例的属性一一对应,但this.props.children属性表示组件的所有子节点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    render: function() &#123;</div><div class="line">      return (</div><div class="line">            &lt;ol&gt;</div><div class="line">                &#123;</div><div class="line">                    this.props.children.map(</div><div class="line">                      function (child) &#123;</div><div class="line">                        return &lt;li&gt;&#123;child&#125;&lt;/li&gt;;</div><div class="line">                    &#125;)</div><div class="line">                &#125;</div><div class="line">            &lt;/ol&gt;</div><div class="line">      );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person&gt;</div><div class="line">        &lt;span&gt;大毛&lt;/span&gt;</div><div class="line">        &lt;span&gt;二毛&lt;/span&gt;</div><div class="line">        &lt;span&gt;三毛&lt;/span&gt;</div><div class="line">    &lt;/Person&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="state状态"><a href="#state状态" class="headerlink" title="state状态"></a>state状态</h2><ul>
<li>组件的状态就像人的心情，会经常变化，而且只能由自己来改变</li>
<li>组件一开始有一个初始状态,然后用户互动,导致状态变化，从而触发界面重新渲染</li>
<li>getInitialState用来定义初始状态</li>
<li><p>可以给按钮绑定事件，当事件发生的时候调用对应的方法改变组件的状态</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">var Person = React.createClass(&#123;</div><div class="line">    getInitialState: function() &#123;</div><div class="line">        return &#123;happy: true&#125;;</div><div class="line">    &#125;,</div><div class="line"></div><div class="line">    getDefaultProps:function()&#123;</div><div class="line">        return &#123;name:&apos;无名氏&apos;&#125;;</div><div class="line">    &#125;,</div><div class="line">    handleClick: function(event) &#123;</div><div class="line">        this.setState(&#123;happy: !this.state.happy&#125;);</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        var heart = this.state.happy ? &apos;开心&apos; : &apos;不开心&apos;;</div><div class="line">        return (</div><div class="line">            &lt;p &gt;</div><div class="line">                 &#123;this.props.name&#125; &#123;heart&#125; &lt;br/&gt;</div><div class="line">                 &lt;button onClick=&#123;this.handleClick&#125;&gt;变心&lt;/button&gt;</div><div class="line">            &lt;/p&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Person name=&quot;林志玲&quot; /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
<p> 常用的事件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">剪贴板事件 onKeyDown onKeyPress onKeyUp</div><div class="line">键盘事件 onFocus onBlur</div><div class="line">焦点事件 onChange onInput onSubmit</div><div class="line">鼠标事件 onClick onDoubleClick onMouseDown onMouseEnter onMouseLeave</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="表单元素双向数据绑定"><a href="#表单元素双向数据绑定" class="headerlink" title="表单元素双向数据绑定"></a>表单元素双向数据绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var Input = React.createClass(&#123;</div><div class="line">    getInitialState: function() &#123;//获取初始状态</div><div class="line">        return &#123;value: &apos;珠峰培训&apos;&#125;;</div><div class="line">    &#125;,</div><div class="line">    handleChange: function(event) &#123; //处理改变事件</div><div class="line">        this.setState(&#123;value: event.target.value&#125;);</div><div class="line">    &#125;,</div><div class="line">    render: function () &#123;</div><div class="line">        var value = this.state.value;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;input style=&#123;&#123;color:&apos;red&apos;&#125;&#125; type=&quot;text&quot;</div><div class="line">                value=&#123;value&#125; onChange=&#123;this.handleChange&#125; /&gt;</div><div class="line">                &lt;p&gt;&#123;value&#125;&lt;/p&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(&lt;Input/&gt;, document.getElementById(&apos;app&apos;));</div></pre></td></tr></table></figure>
<p>   注意: 如果给表单元素设置了value属性，则必须指定onChange事件处理函数，否则 此字段会变成只读状态</p>
<h2 id="六、复合组件"><a href="#六、复合组件" class="headerlink" title="六、复合组件"></a>六、复合组件</h2><p>   多个简单的组件嵌套，可构成一个复杂的复合组件，从而完成复杂的交互逻辑<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">var Panel = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel panel-default&quot;&gt;</div><div class="line">                &lt;PanelHead head=&#123;this.props.head&#125;/&gt;</div><div class="line">                &lt;PanelBody body=&#123;this.props.body&#125;/&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">var PanelHead = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel-heading&quot;&gt;</div><div class="line">                &#123;this.props.head&#125;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"></div><div class="line">var PanelBody = React.createClass(&#123;</div><div class="line">    render: function () &#123;</div><div class="line">        return (</div><div class="line">            &lt;div className=&quot;panel-body&quot;&gt;</div><div class="line">                &#123;this.props.body&#125;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Panel</div><div class="line">        head=&quot;头部&quot;</div><div class="line">        body=&quot;正文&quot;</div><div class="line">    /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="七、DOM操作"><a href="#七、DOM操作" class="headerlink" title="七、DOM操作"></a>七、DOM操作</h2><p>   给组件加上ref=”xxx”后，可在父组件中通过this.refs.xxx获取该DOM元素<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var Focus = React.createClass(&#123;</div><div class="line">    handleClick: function() &#123;</div><div class="line">        this.refs.msg.focus();</div><div class="line">    &#125;,</div><div class="line">    render: function() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;input type=&quot;text&quot; ref=&quot;msg&quot; /&gt;</div><div class="line">                &lt;input type=&quot;button&quot; value=&quot;获得焦点&quot;</div><div class="line">                onClick=&#123;this.handleClick&#125; /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Focus /&gt;,</div><div class="line">    document.getElementById(&apos;app&apos;)</div><div class="line">);</div></pre></td></tr></table></figure></p>
<h2 id="八、组件的生命周期"><a href="#八、组件的生命周期" class="headerlink" title="八、组件的生命周期"></a>八、组件的生命周期</h2><p>React中可以指定在组件的生命周期的不同阶段执行的函数</p>
<ul>
<li>渲染前<ul>
<li>getDefaultProps 获取默认属性对象</li>
<li>getInitialState 获取初始状态对象</li>
<li>componentWillMount 组件将要被挂载到DOM容器内部</li>
</ul>
</li>
<li>渲染<ul>
<li>render 把组件挂载到DOM容器内部</li>
</ul>
</li>
<li>渲染后<ul>
<li>componentDidMount 组件挂载完成后(最常用的)</li>
<li>shouldComponentUpdate 组件是否应该被更新</li>
<li>componentWillUpdate 组件将被更新</li>
<li>componentDidUpdate 组件更新完成后</li>
</ul>
</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-30T03:11:03.846Z"><a href="/2016/12/30/gulp/">2016-12-30</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/30/gulp/">gulp</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="什么gulp"><a href="#什么gulp" class="headerlink" title="什么gulp"></a>什么gulp</h2><ul>
<li>gulp是可以自动化执行任务的工具 在平时开发的流程里面,一定有一些任务需要手工重复得执行,只要你觉得有些动作是要重复去做的,就可以把这些动作创建成一个gulp任务,然后在特定的条件下自动执行. 比如在less源文件发生改变后自动编译成css文件</li>
</ul>
<h2 id="安装gulp"><a href="#安装gulp" class="headerlink" title="安装gulp"></a>安装gulp</h2><ul>
<li><p>全局安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -g gulp</div></pre></td></tr></table></figure>
</li>
<li><p>本地安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm init -y</div><div class="line">npm install gulp --save</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="gulpApi"><a href="#gulpApi" class="headerlink" title="gulpApi"></a>gulpApi</h2><ul>
<li>task 定义gulp任务<ul>
<li>1 是任务的名字</li>
<li>2 是任务的定义函数</li>
</ul>
</li>
<li>src 用于获取可读流 里面可以指定路径。</li>
<li>dest 用于获取可写流，里面可以指定目录。</li>
<li>watch当源文件发生改变的时候，执行对应的任务。</li>
<li><p>gulp的使用流程一般是</p>
<ul>
<li>1 首先通过gulp.src()方法获取到想要处理的文件流</li>
<li>2 然后把文件流通过pipe方法导入到gulp的插件中</li>
<li>3 最后把经过插件处理后的流再通过pipe方法导入到gulp.dest()中</li>
<li>4 gulp.dest()方法则把流中的内容写入到文件中<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;html&apos;,function()&#123;</div><div class="line">  gulp.src(&apos;./app/index.html&apos;)//路径</div><div class="line">      .pipe(gulp.dest(&apos;./dist&apos;));//目录</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;watch&apos;,function()&#123;</div><div class="line">    //当glob指定的通配符文件发生变化的时候执行对应的函数</div><div class="line"> gulp.watch(&apos;./app/*.html&apos;,function(event)&#123;</div><div class="line">        console.log(event);</div><div class="line"> &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="gulp插件"><a href="#gulp插件" class="headerlink" title="gulp插件"></a>gulp插件</h2><ul>
<li><p>gulp-load-plugins 会自动加载所有插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install gulp-load-plugins --save-dev</div></pre></td></tr></table></figure>
</li>
<li><p>less 可以把less文件编译成css</p>
</li>
<li>gulp-concat 可以把几个文件合并到一块</li>
<li>gulp-clean-css 压缩css</li>
<li>gulp-uglify 压缩js</li>
<li>gulp-rename 在把处理好的文件存放到指定的位置之前，我们可以先去重新命名一下它</li>
<li>gulp-inject 动态自动插入生成后的js和css文件到html</li>
<li>gulp-connect 可以帮我们创建一个本地服务器去运行我们的项目</li>
<li>(*) 不能匹配路径分隔符</li>
<li>(**) 可以匹配任意字符，并且可以匹配路径分隔符<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;js&apos;,function()&#123;</div><div class="line">   gulp.src(&apos;./app/js/**/*.js&apos;)</div><div class="line">       .pipe($.concat(&apos;all.js&apos;))</div><div class="line">       .pipe(gulp.dest(&apos;./dist/js&apos;))</div><div class="line">       .pipe($.uglify())</div><div class="line">       .pipe($.rename(&apos;all.min.js&apos;))</div><div class="line">       .pipe(gulp.dest(&apos;./dist/js&apos;));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;css&apos;,function()&#123;</div><div class="line">   gulp.src(&apos;./app/less/**/*.less&apos;)</div><div class="line">       .pipe($.less())</div><div class="line">       .pipe($.concat(&apos;all.css&apos;))</div><div class="line">       .pipe(gulp.dest(&apos;./dist/css&apos;))</div><div class="line">       .pipe($.cleanCss())</div><div class="line">       .pipe($.rename(&apos;all.min.css&apos;))</div><div class="line">       .pipe(gulp.dest(&apos;./dist/css&apos;));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">gulp.task(&apos;copy-html&apos;,function()&#123;</div><div class="line">         gulp.src(&apos;app/index.html&apos;)//指定源文件</div><div class="line">             .pipe(gulp.dest(&apos;dist&apos;))//拷贝到dist目录</div><div class="line">             .pipe(connect.reload());//通知浏览器重启</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    gulp.task(&apos;watch&apos;,function()&#123;</div><div class="line">      //当index.html文件变化时执行copy-html任务</div><div class="line">        gulp.watch(&apos;app/index.html&apos;,[&apos;copy-html&apos;]);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    gulp.task(&apos;server&apos;,function()&#123;</div><div class="line">        connect.server(&#123;</div><div class="line">            root:&apos;dist&apos;,//服务器的根目录</div><div class="line">            port:8080, //服务器的地址，没有此配置项默认也是 8080</div><div class="line">            livereload:true//启用实时刷新的功能</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">    //运行此任务的时候会在8080上启动服务器，</div><div class="line">    gulp.task(&apos;default&apos;,[&apos;server&apos;,&apos;watch&apos;]);</div></pre></td></tr></table></figure>
      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-26T05:15:48.501Z"><a href="/2016/12/26/angular/">2016-12-26</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/26/angular/">angular</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="一、框架-我们按照他的规范去写，人家调用我们（被动）（强约束）"><a href="#一、框架-我们按照他的规范去写，人家调用我们（被动）（强约束）" class="headerlink" title="一、框架 我们按照他的规范去写，人家调用我们（被动）（强约束）"></a>一、框架 我们按照他的规范去写，人家调用我们（被动）（强约束）</h2><p>angular的作用：处理数据，前后端分离框架（MVVM）,双向数据绑定,扩展标签的功能,模块化,单页开发。</p>
<h2 id="ng-app-html"><a href="#ng-app-html" class="headerlink" title="ng-app(html)"></a>ng-app(html)</h2><ul>
<li>启动angular程序，指定模块来启动，定义模块。调用run方法,产生$rootScope<br>run方法<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">app.run(function($rootScope)&#123;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ng-model"><a href="#ng-model" class="headerlink" title="ng-model"></a>ng-model</h2><ul>
<li>只能放置变量，不能放运算</li>
<li>用于表单元素</li>
<li>如果作用域上没有，则声明</li>
<li>如果有取值放到输入框中</li>
<li>如果使用user.name 则会创建一个对象，将name变成一个变量存入进来</li>
<li>实现双向数据绑定的，当前作用域下没有变量，在当前作用域下声明，如果有变量，将name的值绑定给input标签，（数据影响视图）如果input中内容改变，会改变当前作用域上的（视图影响数据）</li>
</ul>
<h2 id="ng-bind"><a href="#ng-bind" class="headerlink" title="ng-bind"></a>ng-bind</h2><ul>
<li>和两个大括号作用域一样，两个大括号是ng-bind的简写，不会导致页面的闪烁</li>
<li>不能用于表单元素</li>
<li>原有的内容会被ng-bind绑定的值替换掉</li>
<li>1.支持简单的运算</li>
<li>2.支持三元运算符</li>
<li>3.支持赋值操作</li>
</ul>
<h2 id="ng-cloak"><a href="#ng-cloak" class="headerlink" title="ng-cloak"></a>ng-cloak</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[ng-cloak]&#123;</div><div class="line">    display:none</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>在所有闪烁的标签上增加ng-cloak属性</li>
</ul>
<h2 id="ng-repeat"><a href="#ng-repeat" class="headerlink" title="ng-repeat"></a>ng-repeat</h2><p>用途:循环遍历</p>
<ul>
<li>要循环谁就写在谁的身上</li>
<li>遍历数组 ng中增加的属性$index $odd $even $first $last $middle (根据索引来遍历)</li>
<li>通过(key,value)可以获得索引，默认写一个变量则是value</li>
<li>对象同数组</li>
</ul>
<h2 id="ng-repeat-为什么-track-by-index"><a href="#ng-repeat-为什么-track-by-index" class="headerlink" title="ng-repeat 为什么 track by $index"></a>ng-repeat 为什么 track by $index</h2><ul>
<li>如果value重复，不能通过相同的value去遍历，通过唯一项来进行遍历。只要是数组就加track by $index</li>
</ul>
<h2 id="ng-click"><a href="#ng-click" class="headerlink" title="ng-click"></a>ng-click</h2><ul>
<li>angular的事件 ng-click=”a()”</li>
</ul>
<h2 id="ng-show-ng-hide"><a href="#ng-show-ng-hide" class="headerlink" title="ng-show/ng-hide"></a>ng-show/ng-hide</h2><p>用途：控制元素的显示隐藏</p>
<ul>
<li>通过css样式进行隐藏，内部命令依然执行</li>
</ul>
<blockquote>
<p>频繁切换采用ng-show/ng-hide</p>
</blockquote>
<h2 id="ng-if"><a href="#ng-if" class="headerlink" title="ng-if"></a>ng-if</h2><p>用途：控制元素的显示隐藏</p>
<ul>
<li>通过删除dom达到隐藏效果，如果为false内部指令不再执行</li>
<li>会产生一个作用域，保留删掉的内容</li>
</ul>
<blockquote>
<p>一般和ng-repeat连用，如果数据不存在就移出掉dom<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-if=&quot;arrs.length&quot;&gt;</div><div class="line">    &lt;div ng-repeat=&quot;a in arrs&quot;&gt;&#123;&#123;a&#125;&#125;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="ng-disabled"><a href="#ng-disabled" class="headerlink" title="ng-disabled"></a>ng-disabled</h2><p>用途:ng-disabled=”true” 进入禁用状态</p>
<h2 id="ng-readonly"><a href="#ng-readonly" class="headerlink" title="ng-readonly"></a>ng-readonly</h2><p>用途:ng-readonly=”true” 进入仅读状态</p>
<h2 id="作用域的产生"><a href="#作用域的产生" class="headerlink" title="作用域的产生"></a>作用域的产生</h2><p>产生作用域的方式</p>
<ul>
<li>ng-controller</li>
<li>ng-app</li>
<li>ng-transclude</li>
<li>scope:true scope:大括号</li>
<li>ng-if</li>
<li>ng-repeat ng-repeat=”a in arr”</li>
</ul>
<h2 id="创建模块"><a href="#创建模块" class="headerlink" title="创建模块"></a>创建模块</h2><pre><code>//1.模块的名字
//2.模块的依赖,如果没有依赖的模块增加一个空数组
//写数组的是创建，不写表示获取
var app = angular.module(&apos;appModule&apos;,[]);
//app代表的是当前的模块
//创建子作用域，防止污染全局变量
//创建控制器(会买一送一 送你一个作用域)
//1.控制器的名字
//2.控制器的定义
</code></pre><h2 id="数组的方式声明，防止压缩，数组的第一项对应函数的第一个参数"><a href="#数组的方式声明，防止压缩，数组的第一项对应函数的第一个参数" class="headerlink" title="数组的方式声明，防止压缩，数组的第一项对应函数的第一个参数"></a>数组的方式声明，防止压缩，数组的第一项对应函数的第一个参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.run([&apos;$rootScope&apos;,function (a) &#123;&#125;]);</div></pre></td></tr></table></figure>
<h2 id="二、控制器"><a href="#二、控制器" class="headerlink" title="二、控制器"></a>二、控制器</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;myCtrl&apos;,function($scope)&#123;</div><div class="line">	$scope.name=&apos;zfpx&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="ng-controller"><a href="#ng-controller" class="headerlink" title="ng-controller"></a>ng-controller</h2><p>用途:调度数据的，买一送一 送作用域</p>
<ul>
<li>不能操作dom，dom在link函数操作</li>
<li>管辖范围,和dom平齐</li>
<li>可以将带有ng-controller的标签嵌套，子继承父 父继承不了子</li>
<li>不能复用</li>
<li>调用ng-controller后可以执行控制器</li>
</ul>
<h2 id="三、指令（内置，自定义）可以复用，用指令封装成功能"><a href="#三、指令（内置，自定义）可以复用，用指令封装成功能" class="headerlink" title="三、指令（内置，自定义）可以复用，用指令封装成功能"></a>三、指令（内置，自定义）可以复用，用指令封装成功能</h2><ul>
<li>自定义：组件式和装饰型<ul>
<li>组件式:Element,看有没有template</li>
<li>装饰型:Attribute,一般没有模板 link函数<br>指令不依赖于控制器<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;zf-xxx&gt;&lt;/zf-xxx&gt;</div><div class="line">app.directive(&apos;zfXxx&apos;,function()&#123;</div><div class="line">	return &#123;</div><div class="line">    		restrict:&apos;EA&apos;, 限制使用范围</div><div class="line">    		template/templateUrl, 模板</div><div class="line">    		transclude:true,</div><div class="line">    		scope:true/&#123;@=&amp;&#125;/不写</div><div class="line">    		replace：true 替换</div><div class="line">    		link:function(scope,element,attrs)&#123;&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">template:`</div><div class="line">         &lt;div&gt;</div><div class="line">             &lt;div class=&quot;title&quot; ng-click=&quot;fn()&quot;&gt;&#123;&#123;t&#125;&#125;&lt;/div&gt;</div><div class="line">             &lt;div class=&quot;content&quot; ng-transclude ng-show=&quot;flag&quot; ng-click=&quot;say(&#123;title:t&#125;)&quot;&gt;&lt;/div&gt;</div><div class="line">         &lt;/div&gt;函数执行传递的参数是个对象</div><div class="line">            `</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="四、过滤器-内置，自定义"><a href="#四、过滤器-内置，自定义" class="headerlink" title="四、过滤器(内置，自定义)"></a>四、过滤器(内置，自定义)</h2><ul>
<li><p>用法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;数据 | filterA | filterB&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>小写转换大写 uppercase lowercase</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&quot;abcdefg&quot;|uppercase|lowercase&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>处理数字 number:2 :2表示保留几位</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&quot;1000000000.2222&quot;|number:0&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>钱币过滤器 currency 多个参数用:隔开</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&apos;100.431&apos;|currency:&apos;€&apos;:1&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>日期过滤器 毫秒戳</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;1481767222868 | date:&apos;yyyy年MM月dd日 hh:mm:ss&apos;&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>限制位数 limitTo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;&#123;&apos;abcd&apos;| limitTo:2&#125;&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>json过滤器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;pre&gt;&#123;&#123;aa|json:4&#125;&#125;&lt;/pre&gt; 四个空格</div></pre></td></tr></table></figure>
</li>
</ul>
<p>pre标签能让你输入内容的样式，在页面中原样显示</p>
<ul>
<li><p>ng中提供了 orderBy filter</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot; placeholder=&quot;请输入查询的内容&quot; ng-model=&quot;query&quot; ng-model-options=&quot;&#123;debounce:500&#125;&quot;&gt;</div><div class="line">ng-model-options=&quot;&#123;debounce:500&#125;&quot; 是延迟500ms 刷新</div><div class="line">失去焦点时刷新&#123;updateOn:&apos;blur&apos;&#125;</div><div class="line">&lt;tr ng-repeat=&quot;a in score|orderBy:language:flag|filter:&#123;math:query,chinese:query&#125; track by $index&quot;&gt;</div><div class="line">orderBy:按照language排序 flag是false为正序 | filter: 按照数学和语文 你输入的值得并集查找</div></pre></td></tr></table></figure>
</li>
<li><p>自定义过滤器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.filter(&apos;jw&apos;,function () &#123;</div><div class="line">        //目的是通过参数和原有的数据，进行改变内容</div><div class="line">        return function (data,param1,param2) &#123;</div><div class="line">	//默认返回一个函数，在函数中返回结果则是过滤后的结果</div><div class="line">        //data是我们要格式化的数据 param1是：后第一个参数 param2是第二个：的参数</div><div class="line">        return param1+data+param2;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>监控xxxx变量的变化，只要有变化执行对应的回调函数，将新值和旧值传入到回掉函数中</p>
<ul>
<li>ng-change和watch区别</li>
<li>1.ng-change只能加在输入框中，不能监听页面数据变化<br>$watch<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;ctrl&apos;, function ($scope) &#123;</div><div class="line">        $scope.product = &#123;name: &apos;飞机&apos;, price: 15, express: 10, count: 1&#125;;</div><div class="line">        $scope.$watch(&apos;product.count&apos;, function (newValue) &#123;</div><div class="line">            $scope.product.express = newValue * $scope.product.price &gt;= 100 ? 0 : 10;</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>用$watch 监听count的变化，让新值乘以单价去判断</p>
<h2 id="五、双向数据绑定"><a href="#五、双向数据绑定" class="headerlink" title="五、双向数据绑定"></a>五、双向数据绑定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">app.directive(&apos;zfModel&apos;,function () &#123;</div><div class="line">        return &#123;</div><div class="line">            link:function (scope,element,attrs) &#123;</div><div class="line">                //当用户输入时触发的事件(修改视图 导致数据变化)</div><div class="line">                element.on(&apos;input&apos;,function () &#123;</div><div class="line">                    //取当前zf-model对应的名字，给scope赋值</div><div class="line">                    scope[attrs[&apos;zfModel&apos;]] =  this.value;//数据改变，但是视图没有跟随刷新</div><div class="line">                    scope.$apply();</div><div class="line">                &#125;);</div><div class="line">                //如果数据变化input框内容会变化吗</div><div class="line">                //数据变化的时候，监听变化后的结果，赋予给input的value属性</div><div class="line">                //监听作用域上的值的变化</div><div class="line">                scope.$watch(attrs[&apos;zfModel&apos;],function (newVal,oldVal) &#123;</div><div class="line">                    element.val(newVal);</div><div class="line">                &#125;);</div><div class="line"></div><div class="line">                //注入</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<ul>
<li>apply()<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;ctrl&apos;,function ($scope,$interval,$timeout) &#123;</div><div class="line">        $scope.time = new Date().getTime();</div><div class="line">        //原生js改变数据是不会触发视图刷新的</div><div class="line">        setInterval(function () &#123;</div><div class="line">            $scope.time = new Date().getTime();</div><div class="line">            //每次修改后要通知angular来修改视图</div><div class="line">            $scope.$apply();//原生修改数据时使用,强制刷新视图</div><div class="line">        &#125;,1000);</div><div class="line"></div><div class="line">        var timer = $interval(function () &#123; //$interval是自带的，会触发视图的刷新 (服务)</div><div class="line">            $scope.time = new Date().getTime();</div><div class="line">            //$scope.$apply();</div><div class="line">            //$interval.cancel(timer);</div><div class="line">        &#125;,1000);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="六、发布订阅模式-on-emit-broadcast"><a href="#六、发布订阅模式-on-emit-broadcast" class="headerlink" title="六、发布订阅模式 on emit broadcast"></a>六、发布订阅模式 on emit broadcast</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">&lt;div ng-controller=&quot;parentCtrl&quot;&gt;</div><div class="line">    总价 &lt;input type=&quot;text&quot; ng-model=&quot;total&quot; ng-change=&quot;fn()&quot;&gt;</div><div class="line">    &lt;div ng-controller=&quot;childCtrl&quot;&gt;</div><div class="line">        单价 30 &lt;br&gt;</div><div class="line">        数量 &lt;input type=&quot;text&quot; ng-model=&quot;count&quot;&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;script src=&quot;node_modules/angular/angular.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    //数据交互的第一种方式$rootScope</div><div class="line">    //事件的交互 儿子告诉父亲$emit</div><div class="line">    var app = angular.module(&apos;appModule&apos;,[]);</div><div class="line">    app.controller(&apos;parentCtrl&apos;,function ($scope) &#123;</div><div class="line">        $scope.total = 30;</div><div class="line">        $scope.$on(&apos;老子要改数量&apos;,function (e,data) &#123;</div><div class="line">            //e是事件源，data代表的是听到的内容</div><div class="line">            $scope.total = data;</div><div class="line">        &#125;);</div><div class="line">        //代码执行到这里发话了</div><div class="line">        $scope.fn = function () &#123;</div><div class="line">            $scope.$broadcast(&apos;你还敢叫老子&apos;,$scope.total);</div><div class="line">        &#125;;</div><div class="line">    &#125;);</div><div class="line">    app.controller(&apos;childCtrl&apos;,function ($scope) &#123;</div><div class="line">        $scope.count = 1;</div><div class="line">        //监控数量的变化</div><div class="line">        $scope.$watch(&apos;count&apos;,function (newVal) &#123;</div><div class="line">            $scope.$emit(&apos;老子要改数量&apos;,newVal*30);//自己知道</div><div class="line">        &#125;);</div><div class="line">        $scope.$on(&apos;你还敢叫老子&apos;,function (e,data) &#123;</div><div class="line">            $scope.count = data/30;</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">    //on方法负责监听</div><div class="line">    // broadcast需要向下广播（自己也能听到）</div><div class="line">    // 向上广播emit（自己也能听到）</div></pre></td></tr></table></figure>
<h2 id="七、服务"><a href="#七、服务" class="headerlink" title="七、服务"></a>七、服务</h2><ul>
<li>服务的目的：封装代码，util.js,写好后，可以在任意一个控制器中注入使用</li>
<li>服务：五种服务一种装饰</li>
<li><p>provider “factory” service value constant</p>
</li>
<li><p>服务的名字(provider一运行代码就会将后面的函数new一下，当注入到控制器中，此实例的$get就会默认调用，$get的返回值就是注入后的内容，唯一一个可以配置的服务)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">app.config(function (calcProvider) &#123;</div><div class="line">    calcProvider.currency = &apos;￥&apos;;</div><div class="line">&#125;)</div><div class="line">app.provider(&apos;calc&apos;, function () &#123;</div><div class="line">    this.currency = &apos;£&apos;;</div><div class="line">    this.$get = function () &#123;</div><div class="line">        var that = this;</div><div class="line">        return &#123;</div><div class="line">            //这里的this都是calc</div><div class="line">            //&apos;+&apos;:(a, b) =&gt; this.currency + (a + b),</div><div class="line">            //&apos;-&apos;:(a, b)=&gt; &#123;&#125;,</div><div class="line">            &apos;+&apos;: (a, b)=&gt; this.currency+(a + b)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>factory中直接后面的函数就是$get,factory是通过provider衍生出来的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">app.factory(&apos;calc&apos;, function () &#123;</div><div class="line">        return &#123;</div><div class="line">            &apos;+&apos;: function (a, b) &#123;</div><div class="line">                return (a + b)</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">app.controller(&apos;myCtrl1&apos;, function ($timeout, calc) &#123;</div><div class="line">        console.log(calc[&quot;+&quot;](1, 2))</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>service</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.service(&apos;calc&apos;, function () &#123;//就是$get方法</div><div class="line">////这个构造函数是factory返回对象的构造函数</div><div class="line">        this[&apos;+&apos;] = function (a, b) &#123;</div><div class="line">            return (a + b)</div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>value同constant</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">app.value/constant(&apos;calc&apos;, &#123;////这个对象是factory返回后的对象</div><div class="line">        &apos;+&apos;: function (a, b) &#123;</div><div class="line">            return (a + b)</div><div class="line">        &#125;</div><div class="line">    &#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="与后台数据的交互"><a href="#与后台数据的交互" class="headerlink" title="与后台数据的交互"></a>与后台数据的交互</h2><ul>
<li><p>$http 是angular中的内置服务，提供了数据交互 get post jsonp</p>
</li>
<li><p>一、get</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;myCtrl&apos;, function ($scope, $http,$interval) &#123;</div><div class="line">        $interval(function () &#123;</div><div class="line">            $http.get(&apos;/clock&apos;).then(function (res) &#123;</div><div class="line">                //res 把数据存放在res.data属性中</div><div class="line">                $scope.timer = res.data</div><div class="line">            &#125;)</div><div class="line">        &#125;,1000)</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>二、post</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">app.controller(&apos;myCtrl&apos;, function ($scope, $http, $interval) &#123;</div><div class="line">        $interval(function () &#123;</div><div class="line">            $http.post(&apos;/post&apos;, &#123;name: &apos;zf&apos;, age: 8&#125;).then(function (res) &#123;</div><div class="line">                //res 把数据存放在res.data属性中</div><div class="line">                $scope.timer = res.data</div><div class="line">            &#125;)</div><div class="line">        &#125;, 1000)</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>三、jsonp</p>
<ul>
<li>jsonp 跨域 通过script（没有域名的限制） img css获取的内容会默认转换成图片,前端设置一个全局的函数，告诉给后台函数的名字,后台返回一个字符串函数的执行里面放入想要的数据</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function getData(data) &#123;console.log(data)&#125;</div><div class="line">var script = document.createElement(&apos;script&apos;);</div><div class="line">script.src = &apos;http://localhost:8080/jsonp?cb=getData&apos;;</div><div class="line">document.body.appendChild(script);</div></pre></td></tr></table></figure>
<ul>
<li>1.前端定义好getData，创建script通过src 传递getData这个名字</li>
<li>2.扔到body中</li>
<li><p>3.后台取出getData函数 getData(后台的数据);</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">angular_jsonp</div><div class="line">var app = angular.module(&apos;appModule&apos;,[]);</div><div class="line">    app.controller(&apos;myCtrl&apos;,function ($scope,$http) &#123;</div><div class="line">        //angular指定json 必须callback=JSON_CALLBACK写死</div><div class="line">        $http.jsonp(&apos;http://localhost:8080/jsonp?callback=JSON_CALLBACK&apos;).then(function (data) &#123;</div><div class="line">            console.log(data);</div><div class="line">        &#125;);</div><div class="line">   &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>四、表单</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">?username=123&amp;password=123</div><div class="line">post请求发送数据 username=123&amp;password=123 formdata</div><div class="line">后端想收到的时候格式化成json</div><div class="line">&lt;form method=&quot;post&quot; action=&quot;/user&quot; &gt;        //接收的是表单提交的数据 else if (pathname == &apos;/user&apos;)</div><div class="line">    用户名:&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt; &lt;br&gt;</div><div class="line">    &lt;!--必须增加name属性--&gt;</div><div class="line">    密码:&lt;input type=&quot;text&quot; name=&quot;password&quot;&gt; &lt;br&gt;</div><div class="line">    &lt;button&gt;提交&lt;/button&gt;</div><div class="line">&lt;/form&gt;</div><div class="line">&lt;!--&#123;name:1,age:2&#125;--&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>node给我们提供的解析表单数据的一个模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var querystring = require(&apos;querystring&apos;);</div><div class="line">var str = &apos;username!=123&amp;&amp;password!=456&apos;;</div><div class="line">//JSON.parse转对象  JSON.stringify转字符串</div><div class="line">var obj = querystring.parse(str,&apos;&amp;&amp;&apos;,&apos;!=&apos;);</div><div class="line">//默认通过&amp; = 进行解析</div><div class="line">//console.log(obj);</div><div class="line">console.log(querystring.stringify(obj,&apos;**&apos;,&apos;||&apos;));</div><div class="line">//第二个参数是字段分隔符 第三个参数是key value分隔符</div></pre></td></tr></table></figure>
</li>
<li><p>五、增删改查</p>
</li>
<li>angular-resource, 提供了restful的风格</li>
<li>要使用angular-resource这个模块,依赖的模块ngResource</li>
<li>ngResource模块只提供了一个$resource<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var app = angular.module(&apos;appModule&apos;, [&apos;ngResource&apos;])</div><div class="line">app.factory(&apos;user&apos;, function ($resource) &#123;</div><div class="line">    return $resource(&apos;/user/:uid&apos;, null, &#123;</div><div class="line">        update: &#123;method: &apos;put&apos;&#125;</div><div class="line">    &#125;)</div><div class="line">&#125;);</div><div class="line">app.controller(&apos;myCtrl&apos;, function ($scope, $http, user) &#123;</div><div class="line">    //想封装(factory)一个对用户的增删改查的功能</div><div class="line">    //user.get(&#123;uid:1&#125;); //   /user/1   get  后台返回一个对象</div><div class="line">    //user.query()  /user get 后台返回一个数组</div><div class="line">    //user.save(&#123;name:1,age:2&#125;) /user post 请求体 后台返回需要增加的那一项</div><div class="line">    //user.remove(&#123;uid:1&#125;) /user/1   delete 后台返回一个&#123;&#125;</div><div class="line">    //user.update(&#123;uid:1&#125;,&#123;name:1,age:2&#125;) /user/1 put  请求体	后台返回修改好的那一项</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-20T09:03:25.187Z"><a href="/2016/12/20/node/">2016-12-20</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/20/node/">node</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li>seajs (CMD) requirejs (AMD)</li>
<li>commonjs</li>
</ul>
<h2 id="node"><a href="#node" class="headerlink" title="node"></a>node</h2><p>node的主线程永远是单线程的，<br>单进程 可以开多个线程<br>node只能多进程 单线程</p>
<blockquote>
<p>单线程 异步io(ajax,定时器,事件,回调函数) 事件驱动</p>
</blockquote>
<h2 id="验证时"><a href="#验证时" class="headerlink" title="验证时"></a>验证时</h2><ul>
<li>一定要前后台都验证</li>
</ul>
<h2 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h2><ul>
<li>依次执行(一个洗完另一个洗)</li>
<li>异步(一起洗澡)</li>
</ul>
<h2 id="阻塞和非阻塞"><a href="#阻塞和非阻塞" class="headerlink" title="阻塞和非阻塞"></a>阻塞和非阻塞</h2><p>针对内核来说的，非阻塞是异步的前置条件</p>
<h2 id="单线程和多线程"><a href="#单线程和多线程" class="headerlink" title="单线程和多线程"></a>单线程和多线程</h2><ul>
<li>多线程’同一个时间’可以干多件事，只是切换上下文(切换速度非常快)<blockquote>
<p>不管是单核还是多核，都可以多进程</p>
</blockquote>
</li>
</ul>
<h2 id="事件环"><a href="#事件环" class="headerlink" title="事件环"></a>事件环</h2><blockquote>
<p>服务员有两个小本，第一个小本是当前干的事情，另一个则是一会要干的事情(一会干的事情都是异步的)</p>
<p>能使用异步的不用同步，防止阻塞主线程</p>
</blockquote>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><ul>
<li>写代码时，可以在任意一个地方访问global</li>
<li>‘在文件中’直接访问this不是global</li>
<li>var的变量不会直接声明在global属性上，不写var会声明在global上<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">global.a=100;</div><div class="line">console.log(global.a);</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="global"><a href="#global" class="headerlink" title="global"></a>global</h2><ul>
<li>global</li>
<li>process process.pid/.exit()/.kill()<ul>
<li>process.nextTick 当前队列的底部</li>
<li>process.cwd()    当前工作路径</li>
<li>process.chdir()  改变目录</li>
</ul>
</li>
<li>Buffer</li>
<li>clearInterval/set</li>
<li><p>clearTimeout/set</p>
</li>
<li><p>setImmediate/clear 第二个小本的立即</p>
</li>
<li>console log/warn/error/info/time/timeEnd</li>
</ul>
<h2 id="形参"><a href="#形参" class="headerlink" title="形参"></a>形参</h2><ul>
<li>__filename 一旦产生就不能更改，执行文件被传入的参数</li>
<li>__dirname</li>
</ul>
<h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><p>npm是安装node后给我们提供的一个包管理工具</p>
<h2 id="安装，卸载，发布"><a href="#安装，卸载，发布" class="headerlink" title="安装，卸载，发布"></a>安装，卸载，发布</h2><ul>
<li>1.全局安装 安装时增加-g参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install nodeppt -g</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>只要全局安装后就会在命令行下有一个nodeppt的命令</p>
</blockquote>
<h2 id="本地安装"><a href="#本地安装" class="headerlink" title="本地安装"></a>本地安装</h2><p>可以在代码中使用</p>
<ul>
<li><p>记住依赖(使用过哪写文件)初始化package.json</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm init</div></pre></td></tr></table></figure>
</li>
<li><p>开发依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install/uninstall gulp --save-dev</div></pre></td></tr></table></figure>
</li>
<li><p>发布依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install/uninstall jquery@3.0.0 --save</div></pre></td></tr></table></figure>
</li>
<li><p>2.卸载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm uninstall gulp -g</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="发布到npm上-包"><a href="#发布到npm上-包" class="headerlink" title="发布到npm上(包)"></a>发布到npm上(包)</h2><ul>
<li>发布的名字不能用人家已有的</li>
<li>1.创建带有package.json的包</li>
<li>2.增加index.js</li>
<li>3.使用官方npm</li>
<li><p>4.登陆你的账号进行发布</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm adduser</div></pre></td></tr></table></figure>
</li>
<li><p>5.发布</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm publish</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="doc文档生成"><a href="#doc文档生成" class="headerlink" title="doc文档生成"></a>doc文档生成</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install fandoc/idoc -g</div></pre></td></tr></table></figure>
<ul>
<li><p>初始化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fandoc init</div></pre></td></tr></table></figure>
</li>
<li><p>构建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fandoc build</div></pre></td></tr></table></figure>
</li>
<li><p>启动服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fandoc server</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="模块-1"><a href="#模块-1" class="headerlink" title="模块"></a>模块</h2><ul>
<li><p>文件模块（两个模块之间的关系），引用时增加路径./等等，引用时可以不添加后缀名，默认会增加.js后缀，.json后缀，.node后缀</p>
</li>
<li><p>第三方模块（模块和包（别人的）之间的关系），引用时直接引用包的名字，只能找到根目录位置，找到后找到package.json文件中，main对应的文件执行</p>
</li>
<li><p>核心模块（直接引用即可）</p>
</li>
</ul>
<h2 id="git-add有什么作用-什么时候执行"><a href="#git-add有什么作用-什么时候执行" class="headerlink" title="git add有什么作用 什么时候执行"></a>git add有什么作用 什么时候执行</h2><p>添加到暂存区，在提交到历史区之前</p>
<h2 id="git上传静态页面"><a href="#git上传静态页面" class="headerlink" title="git上传静态页面"></a>git上传静态页面</h2><ul>
<li>先写好内容</li>
<li><p>创建分支gh-pages</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git checkout -b gh-pages</div></pre></td></tr></table></figure>
</li>
<li><p>链接远程仓库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git remote 别名 地址</div></pre></td></tr></table></figure>
</li>
<li><p>推送</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git push 别名 gh-pages</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><ul>
<li><p>工作区和暂存区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff</div></pre></td></tr></table></figure>
</li>
<li><p>工作区和历史区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff 分支名</div></pre></td></tr></table></figure>
</li>
<li><p>暂存区和历史区</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git diff --cached</div></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-14T02:59:57.595Z"><a href="/2016/12/14/hello-world/">2016-12-14</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/14/hello-world/">Hello HEXO</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="搭建hexo"><a href="#搭建hexo" class="headerlink" title="搭建hexo"></a>搭建hexo</h2><ul>
<li><p>一个github账号只能搭建一个</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yourname.github.io</div></pre></td></tr></table></figure>
</li>
<li><p>安装hexo</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-cli -g</div></pre></td></tr></table></figure>
</li>
<li><p>初始化博客</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo init sleeping</div></pre></td></tr></table></figure>
</li>
<li><p>启动服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd sleeping</div><div class="line">hexo serve</div></pre></td></tr></table></figure>
</li>
<li><p>发布到git上</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm instal hexo-deployer-git --save</div></pre></td></tr></table></figure>
</li>
<li><p>发布的配置<br>deploy:<br>type: git<br>repo: <a href="https://linnan2016:密码@github.com/linnan2016/linnan2016.github.io.git" target="_blank" rel="external">https://linnan2016:密码@github.com/linnan2016/linnan2016.github.io.git</a><br>branch: master<br>message: push</p>
</li>
<li><p>发布</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo deploy</div></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>发布时必须检查git npm和仓库的名字</p>
</blockquote>
<h2 id="第二次修改后要再次发布"><a href="#第二次修改后要再次发布" class="headerlink" title="第二次修改后要再次发布"></a>第二次修改后要再次发布</h2><p>有更改后要重新生成页面<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo deploy</div></pre></td></tr></table></figure></p>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2017/01/16/html+css3/">html5+css3</a>
      </li>
    
      <li>
        <a href="/2017/01/06/mongo/">mongodb</a>
      </li>
    
      <li>
        <a href="/2017/01/06/express/">express</a>
      </li>
    
      <li>
        <a href="/2016/12/30/react/">react</a>
      </li>
    
      <li>
        <a href="/2016/12/30/gulp/">gulp</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2017 zero
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>